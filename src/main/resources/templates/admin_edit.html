<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org">
<head>
    <title>Edit User</title>
    <style>
        .form-group { margin-bottom: 15px; }
        label { display: inline-block; width: 100px; }
        input[type=text], input[type=password], input[type=email] { width: 250px; }
    </style>
</head>
<body>
<h1>Edit User</h1>

<form th:action="@{/admin/update}" method="post" th:object="${user}">
    <input type="hidden" th:field="*{id}"/>

    <div class="form-group">
        <label>Username:</label>
        <input type="text" th:field="*{username}" required/>
    </div>

    <div class="form-group">
        <label>Password:</label>
        <input type="password" th:field="*{password}" placeholder="Leave blank to keep current"/>
        <small>Leave blank to keep current password</small>
    </div>

    <div class="form-group">
        <label>Email:</label>
        <input type="email" th:field="*{email}" required/>
    </div>

    <div class="form-group">
        <label>Roles:</label>
        <input type="checkbox" name="roleIds" value="1"
               th:checked="${user.roles.contains(role)}"/> ROLE_ADMIN
        <input type="checkbox" name="roleIds" value="2"
               th:checked="${user.roles.contains(role)}"/> ROLE_USER
    </div>

    <div class="form-group">
        <button type="submit">Update User</button>
        <a href="/admin">Cancel</a>
    </div>
</form>
</body>
</html>